# Apache2 Configuration Example for InfiNet Tools Backend
# Add these lines to your Apache2 virtual host configuration
# File: /etc/apache2/sites-available/infi.live.conf (or your virtual host file)

<VirtualHost *:443>
    ServerName infi.live
    
    # ... your existing SSL and other configuration ...

    # Enable proxy modules (run these commands first):
    # a2enmod proxy
    # a2enmod proxy_http
    # a2enmod headers

    # Reverse proxy for InfiNet Tools Backend
    # Option 1: Wildcard (simpler - routes all /api/tools/* to backend)
    ProxyPreserveHost On
    ProxyPass /api/tools/ http://localhost:3003/api/tools/
    ProxyPassReverse /api/tools/ http://localhost:3003/api/tools/

    # Option 2: Individual routes (if you need more control)
    # ProxyPreserveHost On
    # ProxyPass /api/tools/domain-check http://localhost:3003/api/tools/domain-check
    # ProxyPassReverse /api/tools/domain-check http://localhost:3003/api/tools/domain-check
    # ... repeat for each endpoint ...

    # Optional: Add headers for debugging
    # Header set X-Backend-Server "infinet-tools-backend"

    # ... rest of your configuration ...
</VirtualHost>

# After adding this configuration:
# 1. Test Apache config: apache2ctl configtest
# 2. Reload Apache: systemctl reload apache2

